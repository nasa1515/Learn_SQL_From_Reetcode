## [176. Second Highest Salary]


### Table: Employee


| Column Name | Type |
|-------------|------|
| id          | int  |
| salary      | int  |

id is the primary key (column with unique values) for this table.  
Each row of this table contains information about the salary of an employee.  
 
## Problem 
Write a solution to find the second highest salary from the Employee table.  
If there is no second highest salary, return null (return None in Pandas).  

The result format is in the following example.  

 

## Example 1:

### Input: 

Employee table:


| id | salary |
|----|--------|
| 1  | 100    |
| 2  | 200    |
| 3  | 300    |

### Output: 

| SecondHighestSalary |
|---------------------|
| 200                 |

## Example 2:

### Input: 

Employee table:


| id | salary |
|----|--------|
| 1  | 100    |

### Output: 

| SecondHighestSalary |
|---------------------|
| null                |


<br/>

---

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>


## ğŸŸ¢ ë‹µì•ˆ (SQL Solution)

```sql
SELECT (
    SELECT DISTINCT(salary)
    FROM Employee
    ORDER BY salary DESC LIMIT 1 OFFSET 1)
AS SecondHighestSalary
```

## ğŸŸ¢ í’€ì´ (Discription)
`SubQuery`ë¥¼ ì‚¬ìš©í•´ ì¿¼ë¦¬ ê²°ê³¼ ê°’ì˜ 2ë²ˆì§¸ ê°’ë¶€í„° ì¶œë ¥í•˜ë„ë¡ ë°ì´í„°ë¥¼ ì§‘ê³„í•´ í•´ê²°í–ˆìŠµë‹ˆë‹¤.   
ë¬¸ì œì—ì„œ ë‚˜ì˜¨ ì¡°ê±´ì— ë”°ë¼ì„œ, í’€ì´ë¥¼ ëŒ€ì‹ í•˜ê² ìŠµë‹ˆë‹¤. 

1. `salary`ì˜ ê°’ì´ 2ë²ˆì§¸ë¡œ ë†’ì€ ë°ì´í„°ë¥¼ ì¶œë ¥í•´ì•¼ í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤. `WITH ì ˆì´ë‚˜, ë‹¤ë¥¸ ê²ƒë“¤ë„ ì“¸ ìˆ˜ ìˆê² ì§€ë§Œ` ì €ëŠ” `OFFSET`ìœ¼ë¡œ í•´ê²°í–ˆìŠµë‹ˆë‹¤.   
`ORDER BY salary DESC LIMIT 1 OFFSET 1`ë¡œ, ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œ ë’¤, `OFFSET 1`ë¡œ ì²«ë²ˆì§¸ ì»¬ëŸ¼ì„ ì œì™¸í–ˆìŠµë‹ˆë‹¤.  


## ğŸŸ¢ WITH ì ˆ ì‚¬ìš© ë‹µì•ˆ (SQL Solution)

```sql
WITH highest_salary AS (
    SELECT MAX(salary) AS salary
    FROM Employee
)
SELECT MAX(salary) AS SecondHighestSalary
FROM Employee
WHERE salary < (SELECT salary FROM highest_salary);
```
ìœ„ ì²˜ëŸ¼, `WITH` ì ˆë¡œ ê°€ì¥ ë†’ì€ salary ê°’ì„ ê°€ì§€ê³  ìˆëŠ” `TEMP Table`ì„ ìƒì„±í•œ ë’¤, ê·¸ ê°’ë³´ë‹¤ ì‘ì€ MAX ê°’ì„ ì¶œë ¥í•´ë„ ì •ë‹µì…ë‹ˆë‹¤.