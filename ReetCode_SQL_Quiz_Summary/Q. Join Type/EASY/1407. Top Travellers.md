## [1407. Top Travellers]  

### Table: Users


| Column Name   | Type    |
+---------------+---------+
| id            | int     |
| name          | varchar |

id is the column with unique values for this table.  
name is the name of the user.  
 

### Table: Rides


| Column Name   | Type    |
+---------------+---------+
| id            | int     |
| user_id       | int     |
| distance      | int     |

id is the column with unique values for this table.  
user_id is the id of the user who traveled the distance "distance".  
 
## Problem

Write a solution to report the distance traveled by each user.  

Return the result table ordered by travelled_distance in descending order,  
if two or more users traveled the same distance, order them by their name in ascending order.  

The result format is in the following example.  

 

## Example 1:

### Input: 

Users table:


| id   | name      |
+------+-----------+
| 1    | Alice     |
| 2    | Bob       |
| 3    | Alex      |
| 4    | Donald    |
| 7    | Lee       |
| 13   | Jonathan  |
| 19   | Elvis     |

Rides table:

| id   | user_id  | distance |
+------+----------+----------+
| 1    | 1        | 120      |
| 2    | 2        | 317      |
| 3    | 3        | 222      |
| 4    | 7        | 100      |
| 5    | 13       | 312      |
| 6    | 19       | 50       |
| 7    | 7        | 120      |
| 8    | 19       | 400      |
| 9    | 7        | 230      |

### Output: 

| name     | travelled_distance |
+----------+--------------------+
| Elvis    | 450                |
| Lee      | 450                |
| Bob      | 317                |
| Jonathan | 312                |
| Alex     | 222                |
| Alice    | 120                |
| Donald   | 0                  |

### Explanation: 
* Elvis and Lee traveled 450 miles, Elvis is the top traveler as his name is alphabetically smaller than Lee.  
* Bob, Jonathan, Alex, and Alice have only one ride and we just order them by the total distances of the ride.  
* Donald did not have any rides, the distance traveled by him is 0.  


<br/>

---

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>


## ğŸŸ¢ ë‹µì•ˆ (SQL Solution)

```sql
SELECT U.name, 
       IFNULL(sum(R.distance),0) as travelled_distance
FROM Users U
LEFT JOIN Rides R
ON R.user_id = U.id
GROUP BY R.user_id
ORDER BY 2 DESC, 1 ASC
```

## ğŸŸ¢ í’€ì´ (Discription)
`LEFT JOIN` ì„ ì‚¬ìš©í•˜ê³ , ì—¬ëŸ¬ ì»¬ëŸ¼ì˜ `ORDER BY`ë¥¼ í™œìš©í•œ ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.    
ë¬¸ì œì—ì„œ ë‚˜ì˜¨ ì¡°ê±´ì— ë”°ë¼ì„œ, í’€ì´ë¥¼ ëŒ€ì‹ í•˜ê² ìŠµë‹ˆë‹¤.   

1. `travelled_distance` ì„ ê¸°ì¤€ìœ¼ë¡œ `ë‚´ë¦¼ì°¨ìˆœ`, ì´í›„ `name` ì„ ê¸°ì¤€ìœ¼ë¡œ `ì˜¤ë¦„ì°¨ìˆœ`ìœ¼ë¡œ ì •ë ¬ -> `(ORDER BY 2 DESC, 1 ASC)`    
`2, 1`ì˜ ì˜ë¯¸ëŠ” ìµœì¢…ì ìœ¼ë¡œ `SELECT` ë˜ëŠ” ê¸°ì¤€ ì»¬ëŸ¼ì˜ index ìˆ«ì ì…ë‹ˆë‹¤. ì¦‰ `2 -> travelled_distance`, `1 -> name`ì˜ ì˜ë¯¸ë¥¼ ê°–ìŠµë‹ˆë‹¤.  

2. `distance` ì»¬ëŸ¼ì˜ í•©ì„ ê³„ì‚° í•´ì•¼ í•¨. -> `(IFNULL(sum(R.distance),0) as travelled_distance)`  
`IFNULL`ì˜ ì˜ë¯¸ëŠ” ì§‘ê³„ëœ `INT` ê°’ì´ NULL ì¼ ê²½ìš° ëŒ€ì‹  í•  ë¬¸ìë¡œ ì±„ìš°ëŠ” ì—­í•  ì…ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” `0`ìœ¼ë¡œ ëŒ€ì‹  ì±„ìš°ê²Œ ë©ë‹ˆë‹¤.  
